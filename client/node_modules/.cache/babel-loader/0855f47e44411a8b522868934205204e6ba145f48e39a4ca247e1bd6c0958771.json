{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/Muyen_project/Muyen_project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import*as ENV from\"../config\";// Initial state\nexport const initialUserState={user:null,isLoggedIn:false};// Reducer function (Redux-like slice)\nexport function userReducer(state,action){switch(action.type){case\"LOGIN\":return _objectSpread(_objectSpread({},state),{},{user:action.payload,isLoggedIn:true});case\"LOGOUT\":return _objectSpread(_objectSpread({},state),{},{user:null,isLoggedIn:false});case\"UPDATE_PROFILE\":return _objectSpread(_objectSpread({},state),{},{user:_objectSpread(_objectSpread({},state.user),action.payload)});default:return state;}}// Action creators (optional)\nexport const loginUser=user=>({type:\"LOGIN\",payload:user});export const logoutUser=()=>({type:\"LOGOUT\"});export const updateProfile=payload=>({type:\"UPDATE_PROFILE\",payload});import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";const initialState={user:{},isLoading:false,isSuccess:false,isError:false};// Async Thunks\nexport const registerUser=createAsyncThunk(\"users/registerUser\",async userData=>{const response=await axios.post(\"\".concat(ENV.SERVER_URL,\"/registerUser\"),userData);return response.data.user;});export const login=createAsyncThunk(\"users/login\",async userData=>{const response=await axios.post(\"\".concat(ENV.SERVER_URL,\"/login\"),userData);return response.data.user;});export const logout=createAsyncThunk(\"users/logout\",async()=>{await axios.post(\"\".concat(ENV.SERVER_URL,\"/logout\"));});// Slice\nexport const userSlice=createSlice({name:\"users\",initialState,reducers:{},extraReducers:builder=>{builder.addCase(registerUser.pending,state=>{state.isLoading=true;}).addCase(registerUser.fulfilled,(state,action)=>{state.isLoading=false;}).addCase(registerUser.rejected,state=>{state.isLoading=false;state.isError=true;}).addCase(login.pending,state=>{state.isLoading=true;}).addCase(login.fulfilled,(state,action)=>{state.isLoading=false;state.isSuccess=true;state.user=action.payload;}).addCase(login.rejected,state=>{state.isLoading=false;state.isError=true;}).addCase(logout.fulfilled,state=>{state.user={};state.isSuccess=false;state.isLoading=false;});}});export default userSlice.reducer;","map":{"version":3,"names":["ENV","initialUserState","user","isLoggedIn","userReducer","state","action","type","_objectSpread","payload","loginUser","logoutUser","updateProfile","createAsyncThunk","createSlice","axios","initialState","isLoading","isSuccess","isError","registerUser","userData","response","post","concat","SERVER_URL","data","login","logout","userSlice","name","reducers","extraReducers","builder","addCase","pending","fulfilled","rejected","reducer"],"sources":["C:/Users/HP/Desktop/Muyen_project/Muyen_project/client/src/Features/UserSlice.js"],"sourcesContent":["import * as ENV from \"../config\";\r\n\r\n// Initial state\r\nexport const initialUserState = {\r\n  user: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\n// Reducer function (Redux-like slice)\r\nexport function userReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n        isLoggedIn: true,\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        isLoggedIn: false,\r\n      };\r\n    case \"UPDATE_PROFILE\":\r\n      return {\r\n        ...state,\r\n        user: { ...state.user, ...action.payload },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Action creators (optional)\r\nexport const loginUser = (user) => ({ type: \"LOGIN\", payload: user });\r\nexport const logoutUser = () => ({ type: \"LOGOUT\" });\r\nexport const updateProfile = (payload) => ({ type: \"UPDATE_PROFILE\", payload });\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  user: {},\r\n  isLoading: false,\r\n  isSuccess: false,\r\n  isError: false,\r\n};\r\n\r\n// Async Thunks\r\nexport const registerUser = createAsyncThunk(\r\n  \"users/registerUser\",\r\n  async (userData) => {\r\n    const response = await axios.post(\r\n      `${ENV.SERVER_URL}/registerUser`,\r\n      userData\r\n    );\r\n    return response.data.user;\r\n  }\r\n);\r\n\r\nexport const login = createAsyncThunk(\"users/login\", async (userData) => {\r\n  const response = await axios.post(`${ENV.SERVER_URL}/login`, userData);\r\n  return response.data.user;\r\n});\r\n\r\nexport const logout = createAsyncThunk(\"users/logout\", async () => {\r\n  await axios.post(`${ENV.SERVER_URL}/logout`);\r\n});\r\n\r\n// Slice\r\nexport const userSlice = createSlice({\r\n  name: \"users\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(registerUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(registerUser.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n      })\r\n      .addCase(registerUser.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n      })\r\n      .addCase(login.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(login.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.user = action.payload;\r\n      })\r\n      .addCase(login.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n      })\r\n      .addCase(logout.fulfilled, (state) => {\r\n        state.user = {};\r\n        state.isSuccess = false;\r\n        state.isLoading = false;\r\n      });\r\n  },\r\n});\r\n\r\nexport default userSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}