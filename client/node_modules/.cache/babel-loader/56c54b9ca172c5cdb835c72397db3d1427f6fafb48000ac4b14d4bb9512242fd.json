{"ast":null,"code":"// import React from \"react\";\n// import { useAppContext } from \"../Store/store\";\n// import { useNavigate } from \"react-router-dom\";\n// import { ArrowLeft } from \"lucide-react\"; // Back icon\n// import \"./Profile.css\";\n// import avatarImg from \"../Images/avatar.png\";\n// export function Profile() {\n//   const { user, events } = useAppContext();\n//   const navigate = useNavigate();\n//   // Navigate back to home\n//   const handleBack = () => navigate(\"/home\");\n//   return (\n//     <div className=\"profile-page\">\n//       {/* Back button */}\n//       <div className=\"profile-header\">\n//         <button className=\"back-btn\" onClick={handleBack}>\n//           <ArrowLeft size={20} /> Back\n//         </button>\n//         <h1>My Profile</h1>\n//       </div>\n//       {/* User info */}\n//       <div className=\"user-info\">\n//         <img\n//           src={avatarImg} // default avatar\n//           alt=\"User Avatar\"\n//           className=\"user-avatar\"\n//         />\n//         <div className=\"user-details\">\n//           <h2>{user?.name}</h2>\n//           <p>{user?.email}</p>\n//         </div>\n//       </div>\n//       {/* User events */}\n//       <div className=\"user-events\">\n//         <h3>My Events</h3>\n//         {events.length === 0 ? (\n//           <p>No events registered yet.</p>\n//         ) : (\n//           <ul>\n//             {events.map((ev) => (\n//               <li key={ev._id} className=\"event-card\">\n//                 <h4>{ev.name}</h4>\n//                 <p>\n//                   <strong>Phone:</strong> {ev.phone}\n//                 </p>\n//                 <p>\n//                   <strong>Event ID:</strong> {ev.eventId}\n//                 </p>\n//                 <p>\n//                   <strong>Date:</strong> {ev.date || \"Not set\"}\n//                 </p>\n//                 <p>\n//                   <strong>Location:</strong> {ev.location || \"Not set\"}\n//                 </p>\n//               </li>\n//             ))}\n//           </ul>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n// import React from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import { ArrowLeft } from \"lucide-react\";\n// import { useAppContext } from \"../Store/store\";\n// import avatarImg from \"../Images/avatar.png\";\n// import \"./Profile.css\";\n// export default function Profile() {\n//   const { user } = useAppContext();\n//   const navigate = useNavigate();\n//   // Safety check (not logged in)\n//   if (!user) {\n//     return (\n//       <div className=\"profile-page\">\n//         <p>You are not logged in.</p>\n//       </div>\n//     );\n//   }\n//   return (\n//     <div className=\"profile-page\">\n//       {/* Header */}\n//       <div className=\"profile-header\">\n//         <button className=\"back-btn\" onClick={() => navigate(\"/home\")}>\n//           <ArrowLeft size={20} /> Back\n//         </button>\n//         <h1>Profile</h1>\n//       </div>\n//       {/* Avatar */}\n//       <div className=\"profile-avatar\">\n//         <img src={avatarImg} alt=\"User Avatar\" />\n//       </div>\n//       {/* User Info */}\n//       <div className=\"profile-info\">\n//         <div className=\"info-row\">\n//           <span className=\"label\">Name</span>\n//           <span className=\"value\">{user.name}</span>\n//         </div>\n//         <div className=\"info-row\">\n//           <span className=\"label\">Email</span>\n//           <span className=\"value\">{user.email}</span>\n//         </div>\n//         {/* Optional phone (future-proof) */}\n//         {user.phone && (\n//           <div className=\"info-row\">\n//             <span className=\"label\">Phone</span>\n//             <span className=\"value\">{user.phone}</span>\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\nimport React,{useEffect,useState}from\"react\";import{useAppContext}from\"../Store/store\";// assuming you have a context providing the logged-in user\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){const{user}=useAppContext();// get logged-in user\nconst[savedJobs,setSavedJobs]=useState([]);useEffect(()=>{if(!(user!==null&&user!==void 0&&user._id))return;// wait until user is loaded\nconst fetchSavedJobs=async()=>{try{const res=await fetch(\"http://localhost:3001/api/saved-jobs/\".concat(user._id));const data=await res.json();setSavedJobs(data);}catch(err){console.error(err);}};fetchSavedJobs();},[user]);if(!user)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading user...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Saved Jobs for \",user.name]}),savedJobs.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No saved jobs yet.\"}),savedJobs.map(job=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:job.jobId.title}),/*#__PURE__*/_jsx(\"p\",{children:job.jobId.company})]},job._id))]});}","map":{"version":3,"names":["React","useEffect","useState","useAppContext","jsx","_jsx","jsxs","_jsxs","Profile","user","savedJobs","setSavedJobs","_id","fetchSavedJobs","res","fetch","concat","data","json","err","console","error","children","name","length","map","job","jobId","title","company"],"sources":["C:/Users/HP/Desktop/Muyen_project/Muyen_project/client/src/components/Profile.js"],"sourcesContent":["// import React from \"react\";\n// import { useAppContext } from \"../Store/store\";\n// import { useNavigate } from \"react-router-dom\";\n// import { ArrowLeft } from \"lucide-react\"; // Back icon\n// import \"./Profile.css\";\n// import avatarImg from \"../Images/avatar.png\";\n\n// export function Profile() {\n//   const { user, events } = useAppContext();\n//   const navigate = useNavigate();\n\n//   // Navigate back to home\n//   const handleBack = () => navigate(\"/home\");\n\n//   return (\n//     <div className=\"profile-page\">\n//       {/* Back button */}\n//       <div className=\"profile-header\">\n//         <button className=\"back-btn\" onClick={handleBack}>\n//           <ArrowLeft size={20} /> Back\n//         </button>\n//         <h1>My Profile</h1>\n//       </div>\n\n//       {/* User info */}\n//       <div className=\"user-info\">\n//         <img\n//           src={avatarImg} // default avatar\n//           alt=\"User Avatar\"\n//           className=\"user-avatar\"\n//         />\n//         <div className=\"user-details\">\n//           <h2>{user?.name}</h2>\n//           <p>{user?.email}</p>\n//         </div>\n//       </div>\n\n//       {/* User events */}\n//       <div className=\"user-events\">\n//         <h3>My Events</h3>\n//         {events.length === 0 ? (\n//           <p>No events registered yet.</p>\n//         ) : (\n//           <ul>\n//             {events.map((ev) => (\n//               <li key={ev._id} className=\"event-card\">\n//                 <h4>{ev.name}</h4>\n//                 <p>\n//                   <strong>Phone:</strong> {ev.phone}\n//                 </p>\n//                 <p>\n//                   <strong>Event ID:</strong> {ev.eventId}\n//                 </p>\n//                 <p>\n//                   <strong>Date:</strong> {ev.date || \"Not set\"}\n//                 </p>\n//                 <p>\n//                   <strong>Location:</strong> {ev.location || \"Not set\"}\n//                 </p>\n//               </li>\n//             ))}\n//           </ul>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// import React from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import { ArrowLeft } from \"lucide-react\";\n// import { useAppContext } from \"../Store/store\";\n// import avatarImg from \"../Images/avatar.png\";\n// import \"./Profile.css\";\n\n// export default function Profile() {\n//   const { user } = useAppContext();\n//   const navigate = useNavigate();\n\n//   // Safety check (not logged in)\n//   if (!user) {\n//     return (\n//       <div className=\"profile-page\">\n//         <p>You are not logged in.</p>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"profile-page\">\n//       {/* Header */}\n//       <div className=\"profile-header\">\n//         <button className=\"back-btn\" onClick={() => navigate(\"/home\")}>\n//           <ArrowLeft size={20} /> Back\n//         </button>\n//         <h1>Profile</h1>\n//       </div>\n\n//       {/* Avatar */}\n//       <div className=\"profile-avatar\">\n//         <img src={avatarImg} alt=\"User Avatar\" />\n//       </div>\n\n//       {/* User Info */}\n//       <div className=\"profile-info\">\n//         <div className=\"info-row\">\n//           <span className=\"label\">Name</span>\n//           <span className=\"value\">{user.name}</span>\n//         </div>\n\n//         <div className=\"info-row\">\n//           <span className=\"label\">Email</span>\n//           <span className=\"value\">{user.email}</span>\n//         </div>\n\n//         {/* Optional phone (future-proof) */}\n//         {user.phone && (\n//           <div className=\"info-row\">\n//             <span className=\"label\">Phone</span>\n//             <span className=\"value\">{user.phone}</span>\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\nimport React, { useEffect, useState } from \"react\";\nimport { useAppContext } from \"../Store/store\"; // assuming you have a context providing the logged-in user\n\nexport default function Profile() {\n  const { user } = useAppContext(); // get logged-in user\n  const [savedJobs, setSavedJobs] = useState([]);\n\n  useEffect(() => {\n    if (!user?._id) return; // wait until user is loaded\n\n    const fetchSavedJobs = async () => {\n      try {\n        const res = await fetch(\n          `http://localhost:3001/api/saved-jobs/${user._id}`\n        );\n        const data = await res.json();\n        setSavedJobs(data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchSavedJobs();\n  }, [user]);\n\n  if (!user) return <p>Loading user...</p>;\n\n  return (\n    <div>\n      <h2>Saved Jobs for {user.name}</h2>\n      {savedJobs.length === 0 && <p>No saved jobs yet.</p>}\n      {savedJobs.map((job) => (\n        <div key={job._id}>\n          <h3>{job.jobId.title}</h3>\n          <p>{job.jobId.company}</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,aAAa,KAAQ,gBAAgB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,KAAM,CAAEC,IAAK,CAAC,CAAGN,aAAa,CAAC,CAAC,CAAE;AAClC,KAAM,CAACO,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAE9CD,SAAS,CAAC,IAAM,CACd,GAAI,EAACQ,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEG,GAAG,EAAE,OAAQ;AAExB,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,yCAAAC,MAAA,CACmBP,IAAI,CAACG,GAAG,CAClD,CAAC,CACD,KAAM,CAAAK,IAAI,CAAG,KAAM,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CAC7BP,YAAY,CAACM,IAAI,CAAC,CACpB,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAEDN,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACJ,IAAI,CAAC,CAAC,CAEV,GAAI,CAACA,IAAI,CAAE,mBAAOJ,IAAA,MAAAiB,QAAA,CAAG,iBAAe,CAAG,CAAC,CAExC,mBACEf,KAAA,QAAAe,QAAA,eACEf,KAAA,OAAAe,QAAA,EAAI,iBAAe,CAACb,IAAI,CAACc,IAAI,EAAK,CAAC,CAClCb,SAAS,CAACc,MAAM,GAAK,CAAC,eAAInB,IAAA,MAAAiB,QAAA,CAAG,oBAAkB,CAAG,CAAC,CACnDZ,SAAS,CAACe,GAAG,CAAEC,GAAG,eACjBnB,KAAA,QAAAe,QAAA,eACEjB,IAAA,OAAAiB,QAAA,CAAKI,GAAG,CAACC,KAAK,CAACC,KAAK,CAAK,CAAC,cAC1BvB,IAAA,MAAAiB,QAAA,CAAII,GAAG,CAACC,KAAK,CAACE,OAAO,CAAI,CAAC,GAFlBH,GAAG,CAACd,GAGT,CACN,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}