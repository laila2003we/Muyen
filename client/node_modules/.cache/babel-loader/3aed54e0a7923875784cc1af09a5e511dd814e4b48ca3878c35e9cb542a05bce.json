{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";import*as ENV from\"../config\";// Async Thunks\nexport const fetchEvents=createAsyncThunk(\"events/fetchEvents\",async()=>{const res=await axios.get(\"\".concat(ENV.SERVER_URL,\"/events\"));return res.data.events;});export const registerEvent=createAsyncThunk(\"events/registerEvent\",async eventData=>{const res=await axios.post(\"\".concat(ENV.SERVER_URL,\"/registerEvent\"),eventData);return res.data.event;});export const updateEvent=createAsyncThunk(\"events/updateEvent\",async eventData=>{const res=await axios.put(\"\".concat(ENV.SERVER_URL,\"/events/\").concat(eventData._id),eventData);return res.data.event;});export const deleteEvent=createAsyncThunk(\"events/deleteEvent\",async eventId=>{await axios.delete(\"\".concat(ENV.SERVER_URL,\"/events/\").concat(eventId));return eventId;});export const initialEventState={events:[],isLoading:false,isSuccess:false,isError:false};const eventSlice=createSlice({name:\"events\",initialState:initialEventState,reducers:{},extraReducers:builder=>{builder// .addCase(fetchEvents.pending, (state) => {\n//   state.isLoading = true;\n// })\n// .addCase(fetchEvents.fulfilled, (state, action) => {\n//   state.isLoading = false;\n//   state.events = action.payload;\n// })\n// .addCase(fetchEvents.rejected, (state) => {\n//   state.isLoading = false;\n//   state.isError = true;\n// })\n// .addCase(registerEvent.pending, (state) => {\n//   state.isLoading = true;\n// })\n// .addCase(registerEvent.fulfilled, (state, action) => {\n//   state.isLoading = false;\n//   state.events.push(action.payload);\n//   state.isSuccess = true;\n// })\n// .addCase(registerEvent.rejected, (state) => {\n//   state.isLoading = false;\n//   state.isError = true;\n// })\n// .addCase(deleteEvent.fulfilled, (state, action) => {\n//   state.events = state.events.filter((e) => e._id !== action.payload);\n// })\n// .addCase(updateEvent.fulfilled, (state, action) => {\n//   const index = state.events.findIndex(\n//     (e) => e._id === action.payload._id\n//   );\n//   if (index !== -1) state.events[index] = action.payload;\n// });\n.addCase(updateEvent.pending,state=>{state.isLoading=true;}).addCase(updateEvent.fulfilled,(state,action)=>{state.isLoading=false;const index=state.events.findIndex(e=>e._id===action.payload._id);if(index!==-1)state.events[index]=action.payload;}).addCase(updateEvent.rejected,state=>{state.isLoading=false;state.isError=true;}).addCase(deleteEvent.pending,state=>{state.isLoading=true;}).addCase(deleteEvent.rejected,state=>{state.isLoading=false;state.isError=true;});}});// ✅ هنا نصدر الافتراضي\nexport default eventSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","ENV","fetchEvents","res","get","concat","SERVER_URL","data","events","registerEvent","eventData","post","event","updateEvent","put","_id","deleteEvent","eventId","delete","initialEventState","isLoading","isSuccess","isError","eventSlice","name","initialState","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","index","findIndex","e","payload","rejected","reducer"],"sources":["C:/Users/HP/Desktop/Muyen_project/Muyen_project/client/src/Features/eventSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport * as ENV from \"../config\";\r\n\r\n// Async Thunks\r\nexport const fetchEvents = createAsyncThunk(\"events/fetchEvents\", async () => {\r\n  const res = await axios.get(`${ENV.SERVER_URL}/events`);\r\n  return res.data.events;\r\n});\r\n\r\nexport const registerEvent = createAsyncThunk(\r\n  \"events/registerEvent\",\r\n  async (eventData) => {\r\n    const res = await axios.post(`${ENV.SERVER_URL}/registerEvent`, eventData);\r\n    return res.data.event;\r\n  }\r\n);\r\n\r\nexport const updateEvent = createAsyncThunk(\r\n  \"events/updateEvent\",\r\n  async (eventData) => {\r\n    const res = await axios.put(\r\n      `${ENV.SERVER_URL}/events/${eventData._id}`,\r\n      eventData\r\n    );\r\n    return res.data.event;\r\n  }\r\n);\r\n\r\nexport const deleteEvent = createAsyncThunk(\r\n  \"events/deleteEvent\",\r\n  async (eventId) => {\r\n    await axios.delete(`${ENV.SERVER_URL}/events/${eventId}`);\r\n    return eventId;\r\n  }\r\n);\r\n\r\nexport const initialEventState = {\r\n  events: [],\r\n  isLoading: false,\r\n  isSuccess: false,\r\n  isError: false,\r\n};\r\n\r\nconst eventSlice = createSlice({\r\n  name: \"events\",\r\n  initialState: initialEventState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // .addCase(fetchEvents.pending, (state) => {\r\n      //   state.isLoading = true;\r\n      // })\r\n      // .addCase(fetchEvents.fulfilled, (state, action) => {\r\n      //   state.isLoading = false;\r\n      //   state.events = action.payload;\r\n      // })\r\n      // .addCase(fetchEvents.rejected, (state) => {\r\n      //   state.isLoading = false;\r\n      //   state.isError = true;\r\n      // })\r\n      // .addCase(registerEvent.pending, (state) => {\r\n      //   state.isLoading = true;\r\n      // })\r\n      // .addCase(registerEvent.fulfilled, (state, action) => {\r\n      //   state.isLoading = false;\r\n      //   state.events.push(action.payload);\r\n      //   state.isSuccess = true;\r\n      // })\r\n      // .addCase(registerEvent.rejected, (state) => {\r\n      //   state.isLoading = false;\r\n      //   state.isError = true;\r\n      // })\r\n      // .addCase(deleteEvent.fulfilled, (state, action) => {\r\n      //   state.events = state.events.filter((e) => e._id !== action.payload);\r\n      // })\r\n      // .addCase(updateEvent.fulfilled, (state, action) => {\r\n      //   const index = state.events.findIndex(\r\n      //     (e) => e._id === action.payload._id\r\n      //   );\r\n      //   if (index !== -1) state.events[index] = action.payload;\r\n      // });\r\n      .addCase(updateEvent.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(updateEvent.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        const index = state.events.findIndex(\r\n          (e) => e._id === action.payload._id\r\n        );\r\n        if (index !== -1) state.events[index] = action.payload;\r\n      })\r\n      .addCase(updateEvent.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n      })\r\n      .addCase(deleteEvent.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(deleteEvent.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n      });\r\n  },\r\n});\r\n\r\n// ✅ هنا نصدر الافتراضي\r\nexport default eventSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}