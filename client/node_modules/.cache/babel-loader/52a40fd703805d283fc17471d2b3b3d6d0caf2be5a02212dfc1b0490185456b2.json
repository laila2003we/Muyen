{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\n// Async Thunks\nexport const fetchEvents = createAsyncThunk(\"events/fetchEvents\", async () => {\n  const res = await axios.get(\"http://localhost:3001/events\");\n  return res.data.events;\n});\nexport const registerEvent = createAsyncThunk(\"events/registerEvent\", async eventData => {\n  const res = await axios.post(\"http://localhost:3001/registerEvent\", eventData);\n  return res.data.event;\n});\nexport const updateEvent = createAsyncThunk(\"events/updateEvent\", async eventData => {\n  const res = await axios.put(`http://localhost:3001/events/${eventData._id}`, eventData);\n  return res.data.event;\n});\nexport const deleteEvent = createAsyncThunk(\"events/deleteEvent\", async eventId => {\n  await axios.delete(`http://localhost:3001/events/${eventId}`);\n  return eventId;\n});\nexport const initialEventState = {\n  events: [],\n  isLoading: false,\n  isSuccess: false,\n  isError: false\n};\nconst eventSlice = createSlice({\n  name: \"events\",\n  initialState: initialEventState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchEvents.pending, state => {\n      state.isLoading = true;\n    }).addCase(fetchEvents.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.events = action.payload;\n    }).addCase(fetchEvents.rejected, state => {\n      state.isLoading = false;\n      state.isError = true;\n    }).addCase(registerEvent.pending, state => {\n      state.isLoading = true;\n    }).addCase(registerEvent.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.events.push(action.payload);\n      state.isSuccess = true;\n    }).addCase(registerEvent.rejected, state => {\n      state.isLoading = false;\n      state.isError = true;\n    }).addCase(deleteEvent.fulfilled, (state, action) => {\n      state.events = state.events.filter(e => e._id !== action.payload);\n    }).addCase(updateEvent.fulfilled, (state, action) => {\n      const index = state.events.findIndex(e => e._id === action.payload._id);\n      if (index !== -1) state.events[index] = action.payload;\n    });\n  }\n});\n\n// ✅ هنا نصدر الافتراضي\nexport default eventSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchEvents","res","get","data","events","registerEvent","eventData","post","event","updateEvent","put","_id","deleteEvent","eventId","delete","initialEventState","isLoading","isSuccess","isError","eventSlice","name","initialState","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","filter","e","index","findIndex","reducer"],"sources":["C:/Users/HP/Desktop/Muyen_project/Muyen_project/client/src/Features/eventSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\n// Async Thunks\r\nexport const fetchEvents = createAsyncThunk(\"events/fetchEvents\", async () => {\r\n  const res = await axios.get(\"http://localhost:3001/events\");\r\n  return res.data.events;\r\n});\r\n\r\nexport const registerEvent = createAsyncThunk(\r\n  \"events/registerEvent\",\r\n  async (eventData) => {\r\n    const res = await axios.post(\"http://localhost:3001/registerEvent\", eventData);\r\n    return res.data.event;\r\n  }\r\n);\r\n\r\nexport const updateEvent = createAsyncThunk(\r\n  \"events/updateEvent\",\r\n  async (eventData) => {\r\n    const res = await axios.put(`http://localhost:3001/events/${eventData._id}`, eventData);\r\n    return res.data.event;\r\n  }\r\n);\r\n\r\nexport const deleteEvent = createAsyncThunk(\r\n  \"events/deleteEvent\",\r\n  async (eventId) => {\r\n    await axios.delete(`http://localhost:3001/events/${eventId}`);\r\n    return eventId;\r\n  }\r\n);\r\n\r\nexport const initialEventState = {\r\n  events: [],\r\n  isLoading: false,\r\n  isSuccess: false,\r\n  isError: false,\r\n};\r\n\r\nconst eventSlice = createSlice({\r\n  name: \"events\",\r\n  initialState: initialEventState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchEvents.pending, (state) => { state.isLoading = true; })\r\n      .addCase(fetchEvents.fulfilled, (state, action) => { state.isLoading = false; state.events = action.payload; })\r\n      .addCase(fetchEvents.rejected, (state) => { state.isLoading = false; state.isError = true; })\r\n      .addCase(registerEvent.pending, (state) => { state.isLoading = true; })\r\n      .addCase(registerEvent.fulfilled, (state, action) => { state.isLoading = false; state.events.push(action.payload); state.isSuccess = true; })\r\n      .addCase(registerEvent.rejected, (state) => { state.isLoading = false; state.isError = true; })\r\n      .addCase(deleteEvent.fulfilled, (state, action) => { state.events = state.events.filter(e => e._id !== action.payload); })\r\n      .addCase(updateEvent.fulfilled, (state, action) => { \r\n        const index = state.events.findIndex(e => e._id === action.payload._id); \r\n        if (index !== -1) state.events[index] = action.payload; \r\n      });\r\n  },\r\n});\r\n\r\n// ✅ هنا نصدر الافتراضي\r\nexport default eventSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}